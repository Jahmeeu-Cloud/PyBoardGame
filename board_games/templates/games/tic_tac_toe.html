{% extends 'base.html' %}

{% block title %}Tic Tac Toe{% endblock %}

{% block content %}
  <div class="container">
    <div class="modal fade" id="startModal" tabindex="-1" role="dialog">
      <div class="modal-dialogue">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title text-center">Tic Tac Toe Game</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <!-- Modal Content -->
          <div class="modal-body">
            <h3>Welcome to the Tic Tac Toe Game!</h3>
            <p>Itâ€™s time to choose your figure.</p>
            <p id="test"></p>
          </div>

          <!-- Modal Footer -->
          <div class="modal-footer">
            <button type="button" id="x" class="btn" data-dismiss="modal" onClick="setFig(this.id)"><span
                    class="fas fa-times"></span></button>
            <button type="button" id="o" class="btn" data-dismiss="modal" onClick="setFig(this.id)"><span
                    class="far fa-circle"></span></button>
          </div>
        </div>
      </div>
    </div>

    <div class="game">
      <div id="first" onClick="icon(this.id)" class="game-field"></div>
      <div id="second" onClick="icon(this.id)" class="game-field"></div>
      <div id="third" onClick="icon(this.id)" class="game-field"></div>
      <div id="fourth" onClick="icon(this.id)" class="game-field"></div>
      <div id="fifth" onClick="icon(this.id)" class="game-field"></div>
      <div id="sixth" onClick="icon(this.id)" class="game-field"></div>
      <div id="seventh" onClick="icon(this.id)" class="game-field"></div>
      <div id="eight" onClick="icon(this.id)" class="game-field"></div>
      <div id="nineth" onClick="icon(this.id)" class="game-field"></div>
    </div>
  </div>

  <script>
      function start() {
          $('#startModal').modal('show');
      }

      function setFig(id) {
          if (id === 'x') {
              game.user = '<span class="fa fa-times"></span>';
              game.computer = '<span class="fa fa-circle-o"></span>';
          } else if (id === 'o') {
              game.user = '<span class="fa fa-circle-o"></span>';
              game.computer = '<span class="fa fa-times"></span>';
          }
      }

      setTimeout(start, 600);
  </script>
{% endblock %}
